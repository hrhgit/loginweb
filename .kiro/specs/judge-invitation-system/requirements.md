# 邀请评委功能需求文档

## 简介

本功能为活动管理平台添加评委邀请和管理系统。活动管理员可以邀请已注册用户担任特定活动的评委，评委拥有有限的后台管理权限，可以查看和下载作品，但不能查看参与者名单。

## 术语表

- **活动管理员 (Event Admin)**: 创建活动的管理员用户，拥有完整的活动管理权限
- **评委 (Judge)**: 被邀请为特定活动担任评审的用户，拥有有限的后台管理权限
- **邀请评委系统 (Judge Invitation System)**: 管理评委邀请、接受和权限控制的完整系统
- **评委权限 (Judge Permissions)**: 评委在特定活动中的访问权限，包括查看作品和批量下载功能
- **用户搜索界面 (User Search Interface)**: 供管理员搜索和选择评委候选人的界面组件

## 需求

### 需求 1

**用户故事:** 作为活动管理员，我想要邀请其他用户担任活动评委，以便让专业人士参与作品评审过程。

#### 验收标准

1. WHEN 活动管理员在自己创建的活动卡片上点击"邀请评委"按钮 THEN 系统 SHALL 显示用户搜索界面
2. WHEN 管理员在搜索框中输入用户名或关键词 THEN 系统 SHALL 返回匹配的已注册用户列表
3. WHEN 管理员选择一个用户并确认邀请 THEN 系统 SHALL 创建评委邀请记录并发送通知给被邀请用户
4. WHEN 被邀请用户已经是该活动的评委 THEN 系统 SHALL 阻止重复邀请并显示相应提示
5. WHEN 管理员邀请用户成功 THEN 系统 SHALL 立即将该用户设置为活动评委无需确认

### 需求 2

**用户故事:** 作为被邀请的用户，我想要收到评委权限通知，以便了解我已成为活动评委。

#### 验收标准

1. WHEN 用户被邀请为评委 THEN 系统 SHALL 立即授予该用户评委权限
2. WHEN 用户被设置为评委 THEN 系统 SHALL 在通知中心显示评委权限获得通知
3. WHEN 用户点击评委通知 THEN 系统 SHALL 跳转到相应活动的评委界面
4. WHEN 用户已经是评委 THEN 系统 SHALL 在活动页面显示评委入口
5. WHEN 评委权限被撤销 THEN 系统 SHALL 发送权限撤销通知给用户

### 需求 3

**用户故事:** 作为评委，我想要访问专门的评委界面，以便查看和评审提交的作品。

#### 验收标准

1. WHEN 评委访问活动详情页 THEN 系统 SHALL 显示"评委入口"按钮
2. WHEN 评委进入评委界面 THEN 系统 SHALL 显示专门的评委工作台，包含作品列表和批量下载功能
3. WHEN 评委在评委界面中 THEN 系统 SHALL 只显示作品相关信息，不显示参与者个人信息和名单
4. WHEN 评委尝试访问管理员后台 THEN 系统 SHALL 阻止访问并显示权限不足提示
5. WHEN 评委点击批量下载作品 THEN 系统 SHALL 允许下载所有提交的作品文件

### 需求 4

**用户故事:** 作为活动管理员，我想要管理活动的评委列表，以便添加、移除或查看评委信息。

#### 验收标准

1. WHEN 管理员进入活动管理后台 THEN 系统 SHALL 显示当前评委列表
2. WHEN 管理员查看评委列表 THEN 系统 SHALL 显示每个评委的用户名、头像和邀请状态
3. WHEN 管理员点击移除评委 THEN 系统 SHALL 撤销该用户的评委权限并更新状态
4. WHEN 管理员移除评委后 THEN 系统 SHALL 发送通知告知被移除的用户
5. WHEN 评委被移除 THEN 系统 SHALL 立即撤销其对该活动评委界面的访问权限

### 需求 5

**用户故事:** 作为系统，我需要正确管理评委权限和数据访问，以确保数据安全和功能正确性。

#### 验收标准

1. WHEN 检查用户权限时 THEN 系统 SHALL 验证用户是否为活动管理员或该活动的有效评委
2. WHEN 评委访问数据时 THEN 系统 SHALL 只允许访问作品相关数据，不允许访问参与者个人信息
3. WHEN 活动状态改变时 THEN 系统 SHALL 保持评委权限的有效性直到活动结束
4. WHEN 用户被删除或禁用时 THEN 系统 SHALL 自动撤销其所有评委权限
5. WHEN 活动被删除时 THEN 系统 SHALL 自动清理相关的评委权限记录